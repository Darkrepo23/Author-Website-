{
    "sourceFile": "pages/forgot-password.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 32,
            "patches": [
                {
                    "date": 1756806986358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1757048646746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,8 +58,10 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </main>\r\n+            const otp = localStorage.getItem('emailOTP')\r\n+        console.log(otp)\r\n \r\n     <script src=\"../js/forgot-password.js\"></script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1757048651933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,10 +58,8 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </main>\r\n-            const otp = localStorage.getItem('emailOTP')\r\n-        console.log(otp)\r\n \r\n     <script src=\"../js/forgot-password.js\"></script>\r\n </body>\r\n </html>\r\n"
                },
                {
                    "date": 1757048658867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,16 @@\n <!DOCTYPE html>\r\n <html lang=\"en\">\r\n+\r\n <head>\r\n     <meta charset=\"UTF-8\">\r\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n     <title>Forgot Password - Herbert Schildt</title>\r\n     <link rel=\"stylesheet\" href=\"../css/styles.css\">\r\n     <link rel=\"stylesheet\" href=\"../css/forgot-password.css\">\r\n     <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\" rel=\"stylesheet\">\r\n </head>\r\n+\r\n <body>\r\n     <!-- Header -->\r\n     <header class=\"header\">\r\n         <div class=\"header-left\">\r\n@@ -26,9 +28,9 @@\n     <main class=\"main-content\">\r\n         <div class=\"verification-container\">\r\n             <div class=\"verification-card\">\r\n                 <h2 class=\"verification-title\">Choose how you'd like to receive your verification code</h2>\r\n-                \r\n+\r\n                 <div class=\"verification-options\">\r\n                     <div class=\"verification-option\" id=\"emailOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Email</div>\r\n@@ -38,9 +40,9 @@\n                             <input type=\"radio\" name=\"verification\" id=\"emailRadio\" checked>\r\n                             <span class=\"radio-custom\"></span>\r\n                         </div>\r\n                     </div>\r\n-                    \r\n+\r\n                     <div class=\"verification-option\" id=\"phoneOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Phone Number</div>\r\n                             <div class=\"option-field\">Send code to: ••••1234</div>\r\n@@ -50,17 +52,21 @@\n                             <span class=\"radio-custom\"></span>\r\n                         </div>\r\n                     </div>\r\n                 </div>\r\n-                \r\n+\r\n                 <div class=\"verification-actions\">\r\n-                    <a href=\"login.html\" class=\"back-btn\" style=\"background-color: #695959;\" >Back to Sign In</a>\r\n+                    <a href=\"login.html\" class=\"back-btn\" style=\"background-color: #695959;\">Back to Sign In</a>\r\n                     <button class=\"continue-btn\" id=\"continueBtn\">Continue</button>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n     </main>\r\n \r\n     <script src=\"../js/forgot-password.js\"></script>\r\n+    <script>\r\n+        const otp = localStorage.getItem('emailOTP')\r\n+        console.log(otp)\r\n+    </script>\r\n </body>\r\n-</html>\r\n \r\n+</html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757048712801,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n                 <div class=\"verification-options\">\r\n                     <div class=\"verification-option\" id=\"emailOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Email</div>\r\n-                            <div class=\"option-field\">Send code to: jo*@gmail.com</div>\r\n+                            <div class=\"option-field\">Send code to: <span></span></div>\r\n                         </div>\r\n                         <div class=\"radio-button\">\r\n                             <input type=\"radio\" name=\"verification\" id=\"emailRadio\" checked>\r\n                             <span class=\"radio-custom\"></span>\r\n"
                },
                {
                    "date": 1757048720986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n                 <div class=\"verification-options\">\r\n                     <div class=\"verification-option\" id=\"emailOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Email</div>\r\n-                            <div class=\"option-field\">Send code to: <span></span></div>\r\n+                            <div class=\"option-field\">Send code to: <span>jo*@gmail.com</span></div>\r\n                         </div>\r\n                         <div class=\"radio-button\">\r\n                             <input type=\"radio\" name=\"verification\" id=\"emailRadio\" checked>\r\n                             <span class=\"radio-custom\"></span>\r\n@@ -44,9 +44,9 @@\n \r\n                     <div class=\"verification-option\" id=\"phoneOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Phone Number</div>\r\n-                            <div class=\"option-field\">Send code to: ••••1234</div>\r\n+                            <div class=\"option-field\">Send code to: <span></span>••••1234</div>\r\n                         </div>\r\n                         <div class=\"radio-button\">\r\n                             <input type=\"radio\" name=\"verification\" id=\"phoneRadio\">\r\n                             <span class=\"radio-custom\"></span>\r\n"
                },
                {
                    "date": 1757048728297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n \r\n                     <div class=\"verification-option\" id=\"phoneOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Phone Number</div>\r\n-                            <div class=\"option-field\">Send code to: <span></span>••••1234</div>\r\n+                            <div class=\"option-field\">Send code to: <span>••••1234</span></div>\r\n                         </div>\r\n                         <div class=\"radio-button\">\r\n                             <input type=\"radio\" name=\"verification\" id=\"phoneRadio\">\r\n                             <span class=\"radio-custom\"></span>\r\n"
                },
                {
                    "date": 1757048740864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,9 +33,9 @@\n                 <div class=\"verification-options\">\r\n                     <div class=\"verification-option\" id=\"emailOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Email</div>\r\n-                            <div class=\"option-field\">Send code to: <span>jo*@gmail.com</span></div>\r\n+                            <div class=\"option-field\">Send code to: <span id=\"email\">jo*@gmail.com</span></div>\r\n                         </div>\r\n                         <div class=\"radio-button\">\r\n                             <input type=\"radio\" name=\"verification\" id=\"emailRadio\" checked>\r\n                             <span class=\"radio-custom\"></span>\r\n"
                },
                {
                    "date": 1757048754106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n \r\n                     <div class=\"verification-option\" id=\"phoneOption\">\r\n                         <div class=\"option-content\">\r\n                             <div class=\"option-label\">Phone Number</div>\r\n-                            <div class=\"option-field\">Send code to: <span>••••1234</span></div>\r\n+                            <div class=\"option-field\">Send code to: <span id=\"contact\">••••1234</span></div>\r\n                         </div>\r\n                         <div class=\"radio-button\">\r\n                             <input type=\"radio\" name=\"verification\" id=\"phoneRadio\">\r\n                             <span class=\"radio-custom\"></span>\r\n"
                },
                {
                    "date": 1757050247944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,8 +60,9 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </main>\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n \r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n         const otp = localStorage.getItem('emailOTP')\r\n"
                },
                {
                    "date": 1757050882379,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,13 +61,15 @@\n             </div>\r\n         </div>\r\n     </main>\r\n     <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n-\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n+           (function() {\r\n+      emailjs.init(\"YOUR_PUBLIC_KEY\"); // 🔑 Replace with your EmailJS public key\r\n+   })();\r\n     </script>\r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757050894237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,11 +65,11 @@\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n-           (function() {\r\n-      emailjs.init(\"YOUR_PUBLIC_KEY\"); // 🔑 Replace with your EmailJS public key\r\n-   })();\r\n+            (function () {\r\n+                emailjs.init(\"-xbRzNSapSs8iD-WK\"); // 🔑 Replace with your EmailJS public key\r\n+            })();\r\n     </script>\r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757051478063,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n-            (function () {\r\n+            function () {\r\n                 emailjs.init(\"-xbRzNSapSs8iD-WK\"); // 🔑 Replace with your EmailJS public key\r\n             })();\r\n     </script>\r\n </body>\r\n"
                },
                {
                    "date": 1757051492694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,11 +65,9 @@\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n-            function () {\r\n-                emailjs.init(\"-xbRzNSapSs8iD-WK\"); // 🔑 Replace with your EmailJS public key\r\n-            })();\r\n+\r\n     </script>\r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757051516781,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,8 +63,12 @@\n     </main>\r\n     <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n+         (function () {\r\n+    // Initialize EmailJS with your Public Key\r\n+    emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+  })();\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n \r\n     </script>\r\n"
                },
                {
                    "date": 1757051597077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,12 +63,9 @@\n     </main>\r\n     <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n-         (function () {\r\n-    // Initialize EmailJS with your Public Key\r\n-    emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n-  })();\r\n+       \r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n \r\n     </script>\r\n"
                },
                {
                    "date": 1757052211541,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,8 +63,59 @@\n     </main>\r\n     <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n+        (function () {\r\n+    // Initialize EmailJS with your Public Key\r\n+    emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+    console.log(\"✅ EmailJS initialized\");\r\n+})();\r\n+\r\n+// Generate 5-digit OTP\r\n+function generateOTP() {\r\n+    return Math.floor(10000 + Math.random() * 90000);\r\n+}\r\n+\r\n+continueBtn.addEventListener('click', function () {\r\n+    const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+    localStorage.setItem(\"otpType\", selectedType);\r\n+\r\n+    if (selectedType === \"email\") {\r\n+        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+        const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n+        const user = users.find(u => u.email === emailOTP);\r\n+\r\n+        if (user) {\r\n+            const otp = generateOTP();\r\n+\r\n+            // Save OTP for verification\r\n+            localStorage.setItem(\"userPIN\", JSON.stringify({\r\n+                email: user.email,\r\n+                pin: otp\r\n+            }));\r\n+\r\n+            console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n+\r\n+            // Send OTP using EmailJS\r\n+            emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n+                to_email: user.email,\r\n+                to_name: user.fullName,\r\n+                otp_code: otp\r\n+            }).then(\r\n+                function (response) {\r\n+                    console.log(\"✅ OTP sent!\", response.status, response.text);\r\n+                    window.location.href = 'otp-verification.html';\r\n+                },\r\n+                function (error) {\r\n+                    console.error(\"❌ Failed to send OTP\", error);\r\n+                    alert(\"Error sending OTP. Please try again.\");\r\n+                }\r\n+            );\r\n+        }\r\n+    } else {\r\n+        window.location.href = 'otp-verification.html';\r\n+    }\r\n+});\r\n        \r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n \r\n"
                },
                {
                    "date": 1757052298813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,63 +60,63 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </main>\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n+    \r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script>\r\n         (function () {\r\n-    // Initialize EmailJS with your Public Key\r\n-    emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n-    console.log(\"✅ EmailJS initialized\");\r\n-})();\r\n+            // Initialize EmailJS with your Public Key\r\n+            emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+            console.log(\"✅ EmailJS initialized\");\r\n+        })();\r\n \r\n-// Generate 5-digit OTP\r\n-function generateOTP() {\r\n-    return Math.floor(10000 + Math.random() * 90000);\r\n-}\r\n+        // Generate 5-digit OTP\r\n+        function generateOTP() {\r\n+            return Math.floor(10000 + Math.random() * 90000);\r\n+        }\r\n \r\n-continueBtn.addEventListener('click', function () {\r\n-    const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n-    localStorage.setItem(\"otpType\", selectedType);\r\n+        continueBtn.addEventListener('click', function () {\r\n+            const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+            localStorage.setItem(\"otpType\", selectedType);\r\n \r\n-    if (selectedType === \"email\") {\r\n-        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n-        const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n-        const user = users.find(u => u.email === emailOTP);\r\n+            if (selectedType === \"email\") {\r\n+                const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+                const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n+                const user = users.find(u => u.email === emailOTP);\r\n \r\n-        if (user) {\r\n-            const otp = generateOTP();\r\n+                if (user) {\r\n+                    const otp = generateOTP();\r\n \r\n-            // Save OTP for verification\r\n-            localStorage.setItem(\"userPIN\", JSON.stringify({\r\n-                email: user.email,\r\n-                pin: otp\r\n-            }));\r\n+                    // Save OTP for verification\r\n+                    localStorage.setItem(\"userPIN\", JSON.stringify({\r\n+                        email: user.email,\r\n+                        pin: otp\r\n+                    }));\r\n \r\n-            console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n+                    console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n \r\n-            // Send OTP using EmailJS\r\n-            emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n-                to_email: user.email,\r\n-                to_name: user.fullName,\r\n-                otp_code: otp\r\n-            }).then(\r\n-                function (response) {\r\n-                    console.log(\"✅ OTP sent!\", response.status, response.text);\r\n-                    window.location.href = 'otp-verification.html';\r\n-                },\r\n-                function (error) {\r\n-                    console.error(\"❌ Failed to send OTP\", error);\r\n-                    alert(\"Error sending OTP. Please try again.\");\r\n+                    // Send OTP using EmailJS\r\n+                    emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n+                        to_email: user.email,\r\n+                        to_name: user.fullName,\r\n+                        otp_code: otp\r\n+                    }).then(\r\n+                        function (response) {\r\n+                            console.log(\"✅ OTP sent!\", response.status, response.text);\r\n+                            window.location.href = 'otp-verification.html';\r\n+                        },\r\n+                        function (error) {\r\n+                            console.error(\"❌ Failed to send OTP\", error);\r\n+                            alert(\"Error sending OTP. Please try again.\");\r\n+                        }\r\n+                    );\r\n                 }\r\n-            );\r\n-        }\r\n-    } else {\r\n-        window.location.href = 'otp-verification.html';\r\n-    }\r\n-});\r\n-       \r\n+            } else {\r\n+                window.location.href = 'otp-verification.html';\r\n+            }\r\n+        });\r\n+\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n \r\n     </script>\r\n"
                },
                {
                    "date": 1757052359715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,10 +60,10 @@\n                 </div>\r\n             </div>\r\n         </div>\r\n     </main>\r\n-    \r\n     <script src=\"../js/forgot-password.js\"></script>\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n     <script>\r\n         (function () {\r\n             // Initialize EmailJS with your Public Key\r\n             emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n@@ -115,8 +115,13 @@\n                 window.location.href = 'otp-verification.html';\r\n             }\r\n         });\r\n \r\n+        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n+console.log(\"📂 Users:\", users);\r\n+console.log(\"👤 Found user:\", user);\r\n+\r\n+\r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n \r\n     </script>\r\n"
                },
                {
                    "date": 1757052392697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,8 +73,9 @@\n         // Generate 5-digit OTP\r\n         function generateOTP() {\r\n             return Math.floor(10000 + Math.random() * 90000);\r\n         }\r\n+        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n \r\n         continueBtn.addEventListener('click', function () {\r\n             const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n             localStorage.setItem(\"otpType\", selectedType);\r\n@@ -116,10 +117,10 @@\n             }\r\n         });\r\n \r\n         console.log(\"🔎 EmailOTP:\", emailOTP);\r\n-console.log(\"📂 Users:\", users);\r\n-console.log(\"👤 Found user:\", user);\r\n+        console.log(\"📂 Users:\", users);\r\n+        console.log(\"👤 Found user:\", user);\r\n \r\n \r\n         const otp = localStorage.getItem('emailOTP')\r\n         console.log(otp)\r\n"
                },
                {
                    "date": 1757052408525,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,8 +74,9 @@\n         function generateOTP() {\r\n             return Math.floor(10000 + Math.random() * 90000);\r\n         }\r\n         const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+        const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n \r\n         continueBtn.addEventListener('click', function () {\r\n             const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n             localStorage.setItem(\"otpType\", selectedType);\r\n"
                },
                {
                    "date": 1757052418837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,8 +75,9 @@\n             return Math.floor(10000 + Math.random() * 90000);\r\n         }\r\n         const emailOTP = localStorage.getItem(\"emailOTP\");\r\n         const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n+        const user = users.find(u => u.email === emailOTP);\r\n \r\n         continueBtn.addEventListener('click', function () {\r\n             const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n             localStorage.setItem(\"otpType\", selectedType);\r\n"
                },
                {
                    "date": 1757052590309,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,10 @@\n             </div>\r\n         </div>\r\n     </main>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js\"></script>\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+\r\n     <script>\r\n         (function () {\r\n             // Initialize EmailJS with your Public Key\r\n             emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n"
                },
                {
                    "date": 1757052625155,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,74 +61,66 @@\n             </div>\r\n         </div>\r\n     </main>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+   <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+<script>\r\n+(function () {\r\n+    // Initialize EmailJS\r\n+    emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+    console.log(\"✅ EmailJS initialized\");\r\n+})();\r\n \r\n-    <script>\r\n-        (function () {\r\n-            // Initialize EmailJS with your Public Key\r\n-            emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n-            console.log(\"✅ EmailJS initialized\");\r\n-        })();\r\n+// Generate 5-digit OTP\r\n+function generateOTP() {\r\n+    return Math.floor(10000 + Math.random() * 90000);\r\n+}\r\n \r\n-        // Generate 5-digit OTP\r\n-        function generateOTP() {\r\n-            return Math.floor(10000 + Math.random() * 90000);\r\n-        }\r\n-        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+continueBtn.addEventListener('click', function () {\r\n+    const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+    localStorage.setItem(\"otpType\", selectedType);\r\n+\r\n+    if (selectedType === \"email\") {\r\n+        const emailOTP = localStorage.getItem(\"emailOTP\"); // saved earlier\r\n         const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n         const user = users.find(u => u.email === emailOTP);\r\n \r\n-        continueBtn.addEventListener('click', function () {\r\n-            const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n-            localStorage.setItem(\"otpType\", selectedType);\r\n+        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n+        console.log(\"📂 Users:\", users);\r\n+        console.log(\"👤 Found user:\", user);\r\n \r\n-            if (selectedType === \"email\") {\r\n-                const emailOTP = localStorage.getItem(\"emailOTP\");\r\n-                const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n-                const user = users.find(u => u.email === emailOTP);\r\n+        if (!user) {\r\n+            alert(\"⚠️ No user found with that email.\");\r\n+            return;\r\n+        }\r\n \r\n-                if (user) {\r\n-                    const otp = generateOTP();\r\n+        const otp = generateOTP();\r\n+        localStorage.setItem(\"userPIN\", JSON.stringify({\r\n+            email: user.email,\r\n+            pin: otp\r\n+        }));\r\n \r\n-                    // Save OTP for verification\r\n-                    localStorage.setItem(\"userPIN\", JSON.stringify({\r\n-                        email: user.email,\r\n-                        pin: otp\r\n-                    }));\r\n+        console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n \r\n-                    console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n-\r\n-                    // Send OTP using EmailJS\r\n-                    emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n-                        to_email: user.email,\r\n-                        to_name: user.fullName,\r\n-                        otp_code: otp\r\n-                    }).then(\r\n-                        function (response) {\r\n-                            console.log(\"✅ OTP sent!\", response.status, response.text);\r\n-                            window.location.href = 'otp-verification.html';\r\n-                        },\r\n-                        function (error) {\r\n-                            console.error(\"❌ Failed to send OTP\", error);\r\n-                            alert(\"Error sending OTP. Please try again.\");\r\n-                        }\r\n-                    );\r\n-                }\r\n-            } else {\r\n+        emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n+            to_email: user.email,\r\n+            to_name: user.fullName,\r\n+            otp_code: otp\r\n+        }).then(\r\n+            function (response) {\r\n+                console.log(\"✅ OTP sent!\", response);\r\n                 window.location.href = 'otp-verification.html';\r\n+            },\r\n+            function (error) {\r\n+                console.error(\"❌ Failed to send OTP\", error);\r\n+                alert(\"Error sending OTP. Please try again.\");\r\n             }\r\n-        });\r\n+        );\r\n+    } else {\r\n+        window.location.href = 'otp-verification.html';\r\n+    }\r\n+});\r\n+</script>\r\n \r\n-        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n-        console.log(\"📂 Users:\", users);\r\n-        console.log(\"👤 Found user:\", user);\r\n-\r\n-\r\n-        const otp = localStorage.getItem('emailOTP')\r\n-        console.log(otp)\r\n-\r\n-    </script>\r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757052933014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,66 +61,73 @@\n             </div>\r\n         </div>\r\n     </main>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n-   <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n-<script>\r\n-(function () {\r\n-    // Initialize EmailJS\r\n-    emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n-    console.log(\"✅ EmailJS initialized\");\r\n-})();\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+    <script>\r\n+        (function () {\r\n+            // Initialize EmailJS with your Public Key\r\n+            emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+            console.log(\"✅ EmailJS initialized\");\r\n+        })();\r\n \r\n-// Generate 5-digit OTP\r\n-function generateOTP() {\r\n-    return Math.floor(10000 + Math.random() * 90000);\r\n-}\r\n-\r\n-continueBtn.addEventListener('click', function () {\r\n-    const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n-    localStorage.setItem(\"otpType\", selectedType);\r\n-\r\n-    if (selectedType === \"email\") {\r\n-        const emailOTP = localStorage.getItem(\"emailOTP\"); // saved earlier\r\n+        // Generate 5-digit OTP\r\n+        function generateOTP() {\r\n+            return Math.floor(10000 + Math.random() * 90000);\r\n+        }\r\n+        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n         const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n         const user = users.find(u => u.email === emailOTP);\r\n \r\n-        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n-        console.log(\"📂 Users:\", users);\r\n-        console.log(\"👤 Found user:\", user);\r\n+        continueBtn.addEventListener('click', function () {\r\n+            const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+            localStorage.setItem(\"otpType\", selectedType);\r\n \r\n-        if (!user) {\r\n-            alert(\"⚠️ No user found with that email.\");\r\n-            return;\r\n-        }\r\n+            if (selectedType === \"email\") {\r\n+                const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+                const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n+                const user = users.find(u => u.email === emailOTP);\r\n \r\n-        const otp = generateOTP();\r\n-        localStorage.setItem(\"userPIN\", JSON.stringify({\r\n-            email: user.email,\r\n-            pin: otp\r\n-        }));\r\n+                if (user) {\r\n+                    const otp = generateOTP();\r\n \r\n-        console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n+                    // Save OTP for verification\r\n+                    localStorage.setItem(\"userPIN\", JSON.stringify({\r\n+                        email: user.email,\r\n+                        pin: otp\r\n+                    }));\r\n \r\n-        emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n-            to_email: user.email,\r\n-            to_name: user.fullName,\r\n-            otp_code: otp\r\n-        }).then(\r\n-            function (response) {\r\n-                console.log(\"✅ OTP sent!\", response);\r\n+                    console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n+\r\n+                    // Send OTP using EmailJS\r\n+                    emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n+                        to_email: user.email,\r\n+                        to_name: user.fullName,\r\n+                        otp_code: otp\r\n+                    }).then(\r\n+                        function (response) {\r\n+                            console.log(\"✅ OTP sent!\", response.status, response.text);\r\n+                            window.location.href = 'otp-verification.html';\r\n+                        },\r\n+                        function (error) {\r\n+                            console.error(\"❌ Failed to send OTP\", error);\r\n+                            alert(\"Error sending OTP. Please try again.\");\r\n+                        }\r\n+                    );\r\n+                }\r\n+            } else {\r\n                 window.location.href = 'otp-verification.html';\r\n-            },\r\n-            function (error) {\r\n-                console.error(\"❌ Failed to send OTP\", error);\r\n-                alert(\"Error sending OTP. Please try again.\");\r\n             }\r\n-        );\r\n-    } else {\r\n-        window.location.href = 'otp-verification.html';\r\n-    }\r\n-});\r\n-</script>\r\n+        });\r\n \r\n+        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n+        console.log(\"📂 Users:\", users);\r\n+        console.log(\"👤 Found user:\", user);\r\n+\r\n+\r\n+        const otp = localStorage.getItem('emailOTP')\r\n+        console.log(otp)\r\n+\r\n+    </script>\r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757052956609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,8 +62,9 @@\n         </div>\r\n     </main>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n     <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+\r\n     <script>\r\n         (function () {\r\n             // Initialize EmailJS with your Public Key\r\n             emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n"
                },
                {
                    "date": 1757053023878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,74 +61,67 @@\n             </div>\r\n         </div>\r\n     </main>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n-    <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+  <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+<script>\r\n+    (function () {\r\n+        // Initialize EmailJS with your Public Key\r\n+        emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+        console.log(\"✅ EmailJS initialized\");\r\n+    })();\r\n \r\n-    <script>\r\n-        (function () {\r\n-            // Initialize EmailJS with your Public Key\r\n-            emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n-            console.log(\"✅ EmailJS initialized\");\r\n-        })();\r\n+    // Generate 5-digit OTP\r\n+    function generateOTP() {\r\n+        return Math.floor(10000 + Math.random() * 90000);\r\n+    }\r\n \r\n-        // Generate 5-digit OTP\r\n-        function generateOTP() {\r\n-            return Math.floor(10000 + Math.random() * 90000);\r\n-        }\r\n-        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n-        const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n-        const user = users.find(u => u.email === emailOTP);\r\n+    // 🔎 Get saved email + users list\r\n+    const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+    const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n+    const user = users.find(u => u.email === emailOTP);\r\n \r\n-        continueBtn.addEventListener('click', function () {\r\n-            const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n-            localStorage.setItem(\"otpType\", selectedType);\r\n+    console.log(\"🔎 EmailOTP:\", emailOTP);\r\n+    console.log(\"📂 Users:\", users);\r\n+    console.log(\"👤 Found user:\", user);\r\n \r\n-            if (selectedType === \"email\") {\r\n-                const emailOTP = localStorage.getItem(\"emailOTP\");\r\n-                const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n-                const user = users.find(u => u.email === emailOTP);\r\n+    continueBtn.addEventListener('click', function () {\r\n+        const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+        localStorage.setItem(\"otpType\", selectedType);\r\n \r\n-                if (user) {\r\n-                    const otp = generateOTP();\r\n+        if (selectedType === \"email\" && user) {\r\n+            // ✅ Generate OTP\r\n+            const otp = generateOTP();\r\n \r\n-                    // Save OTP for verification\r\n-                    localStorage.setItem(\"userPIN\", JSON.stringify({\r\n-                        email: user.email,\r\n-                        pin: otp\r\n-                    }));\r\n+            // Save OTP for later verification\r\n+            localStorage.setItem(\"userPIN\", JSON.stringify({\r\n+                email: user.email,\r\n+                pin: otp\r\n+            }));\r\n \r\n-                    console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n+            console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n \r\n-                    // Send OTP using EmailJS\r\n-                    emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n-                        to_email: user.email,\r\n-                        to_name: user.fullName,\r\n-                        otp_code: otp\r\n-                    }).then(\r\n-                        function (response) {\r\n-                            console.log(\"✅ OTP sent!\", response.status, response.text);\r\n-                            window.location.href = 'otp-verification.html';\r\n-                        },\r\n-                        function (error) {\r\n-                            console.error(\"❌ Failed to send OTP\", error);\r\n-                            alert(\"Error sending OTP. Please try again.\");\r\n-                        }\r\n-                    );\r\n+            // ✅ Send OTP via EmailJS\r\n+            emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n+                to_email: user.email,\r\n+                to_name: user.fullName || user.name || \"User\", // fallback if field missing\r\n+                otp_code: otp\r\n+            }).then(\r\n+                function (response) {\r\n+                    console.log(\"✅ OTP sent!\", response.status, response.text);\r\n+                    window.location.href = 'otp-verification.html';\r\n+                },\r\n+                function (error) {\r\n+                    console.error(\"❌ Failed to send OTP\", error);\r\n+                    alert(\"Error sending OTP. Please try again.\");\r\n                 }\r\n-            } else {\r\n-                window.location.href = 'otp-verification.html';\r\n-            }\r\n-        });\r\n+            );\r\n+        } else {\r\n+            // If phone → just redirect (future SMS integration possible)\r\n+            window.location.href = 'otp-verification.html';\r\n+        }\r\n+    });\r\n+</script>\r\n \r\n-        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n-        console.log(\"📂 Users:\", users);\r\n-        console.log(\"👤 Found user:\", user);\r\n-\r\n-\r\n-        const otp = localStorage.getItem('emailOTP')\r\n-        console.log(otp)\r\n-\r\n-    </script>\r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757053500834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,67 +61,67 @@\n             </div>\r\n         </div>\r\n     </main>\r\n     <script src=\"../js/forgot-password.js\"></script>\r\n-  <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n-<script>\r\n-    (function () {\r\n-        // Initialize EmailJS with your Public Key\r\n-        emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n-        console.log(\"✅ EmailJS initialized\");\r\n-    })();\r\n+    <script src=\"https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js\"></script>\r\n+    <script>\r\n+        (function () {\r\n+            // Initialize EmailJS with your Public Key\r\n+            emailjs.init(\"-xbRzNSapSs8iD-WK\");\r\n+            console.log(\"✅ EmailJS initialized\");\r\n+        })();\r\n \r\n-    // Generate 5-digit OTP\r\n-    function generateOTP() {\r\n-        return Math.floor(10000 + Math.random() * 90000);\r\n-    }\r\n+        // Generate 5-digit OTP\r\n+        function generateOTP() {\r\n+            return Math.floor(10000 + Math.random() * 90000);\r\n+        }\r\n \r\n-    // 🔎 Get saved email + users list\r\n-    const emailOTP = localStorage.getItem(\"emailOTP\");\r\n-    const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n-    const user = users.find(u => u.email === emailOTP);\r\n+        // 🔎 Get saved email + users list\r\n+        const emailOTP = localStorage.getItem(\"emailOTP\");\r\n+        const users = JSON.parse(localStorage.getItem(\"users\")) || [];\r\n+        const user = users.find(u => u.email === emailOTP);\r\n \r\n-    console.log(\"🔎 EmailOTP:\", emailOTP);\r\n-    console.log(\"📂 Users:\", users);\r\n-    console.log(\"👤 Found user:\", user);\r\n+        console.log(\"🔎 EmailOTP:\", emailOTP);\r\n+        console.log(\"📂 Users:\", users);\r\n+        console.log(\"👤 Found user:\", user);\r\n \r\n-    continueBtn.addEventListener('click', function () {\r\n-        const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n-        localStorage.setItem(\"otpType\", selectedType);\r\n+        continueBtn.addEventListener('click', function () {\r\n+            const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+            localStorage.setItem(\"otpType\", selectedType);\r\n \r\n-        if (selectedType === \"email\" && user) {\r\n-            // ✅ Generate OTP\r\n-            const otp = generateOTP();\r\n+            if (selectedType === \"email\" && user) {\r\n+                // ✅ Generate OTP\r\n+                const otp = generateOTP();\r\n \r\n-            // Save OTP for later verification\r\n-            localStorage.setItem(\"userPIN\", JSON.stringify({\r\n-                email: user.email,\r\n-                pin: otp\r\n-            }));\r\n+                // Save OTP for later verification\r\n+                localStorage.setItem(\"userPIN\", JSON.stringify({\r\n+                    email: user.email,\r\n+                    pin: otp\r\n+                }));\r\n \r\n-            console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n+                console.log(\"📨 Sending OTP to:\", user.email, \"Code:\", otp);\r\n \r\n-            // ✅ Send OTP via EmailJS\r\n-            emailjs.send(\"service_b816d9f\", \"template_5i01it9\", {\r\n-                to_email: user.email,\r\n-                to_name: user.fullName || user.name || \"User\", // fallback if field missing\r\n-                otp_code: otp\r\n-            }).then(\r\n-                function (response) {\r\n-                    console.log(\"✅ OTP sent!\", response.status, response.text);\r\n-                    window.location.href = 'otp-verification.html';\r\n-                },\r\n-                function (error) {\r\n-                    console.error(\"❌ Failed to send OTP\", error);\r\n-                    alert(\"Error sending OTP. Please try again.\");\r\n-                }\r\n-            );\r\n-        } else {\r\n-            // If phone → just redirect (future SMS integration possible)\r\n-            window.location.href = 'otp-verification.html';\r\n-        }\r\n-    });\r\n-</script>\r\n+                // ✅ Send OTP via EmailJS\r\n+                emailjs.send(\"service_b816d9f\", \"template_1yu5htt\", {\r\n+                    to_email: user.email,\r\n+                    to_name: user.fullName || user.name || \"User\", // fallback if field missing\r\n+                    otp_code: otp\r\n+                }).then(\r\n+                    function (response) {\r\n+                        console.log(\"✅ OTP sent!\", response.status, response.text);\r\n+                        window.location.href = 'otp-verification.html';\r\n+                    },\r\n+                    function (error) {\r\n+                        console.error(\"❌ Failed to send OTP\", error);\r\n+                        alert(\"Error sending OTP. Please try again.\");\r\n+                    }\r\n+                );\r\n+            } else {\r\n+                // If phone → just redirect (future SMS integration possible)\r\n+                window.location.href = 'otp-verification.html';\r\n+            }\r\n+        });\r\n+    </script>\r\n \r\n </body>\r\n \r\n </html>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1757053836358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,9 +107,9 @@\n                     otp_code: otp\r\n                 }).then(\r\n                     function (response) {\r\n                         console.log(\"✅ OTP sent!\", response.status, response.text);\r\n-                        window.location.href = 'otp-verification.html';\r\n+                        // window.location.href = 'otp-verification.html';\r\n                     },\r\n                     function (error) {\r\n                         console.error(\"❌ Failed to send OTP\", error);\r\n                         alert(\"Error sending OTP. Please try again.\");\r\n"
                },
                {
                    "date": 1757053934869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -107,18 +107,18 @@\n                     otp_code: otp\r\n                 }).then(\r\n                     function (response) {\r\n                         console.log(\"✅ OTP sent!\", response.status, response.text);\r\n-                        // window.location.href = 'otp-verification.html';\r\n+                        window.location.href = 'otp-verification.html';\r\n                     },\r\n                     function (error) {\r\n                         console.error(\"❌ Failed to send OTP\", error);\r\n                         alert(\"Error sending OTP. Please try again.\");\r\n                     }\r\n                 );\r\n             } else {\r\n                 // If phone → just redirect (future SMS integration possible)\r\n-                window.location.href = 'otp-verification.html';\r\n+                // window.location.href = 'otp-verification.html';\r\n             }\r\n         });\r\n     </script>\r\n \r\n"
                },
                {
                    "date": 1757053941750,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n                     }\r\n                 );\r\n             } else {\r\n                 // If phone → just redirect (future SMS integration possible)\r\n-                // window.location.href = 'otp-verification.html';\r\n+                \r\n             }\r\n         });\r\n     </script>\r\n \r\n"
                },
                {
                    "date": 1757053947215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,9 +116,9 @@\n                     }\r\n                 );\r\n             } else {\r\n                 // If phone → just redirect (future SMS integration possible)\r\n-                alert('Ch')\r\n+                alert('Cho')\r\n             }\r\n         });\r\n     </script>\r\n \r\n"
                },
                {
                    "date": 1757057105044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -88,72 +88,72 @@\n \r\n         console.log(\"📂 Users:\", users);\r\n         console.log(\"👤 Found user:\", user);\r\n \r\n-      continueBtn.addEventListener('click', function () {\r\n-    const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n-    localStorage.setItem(\"otpType\", selectedType);\r\n+        continueBtn.addEventListener('click', function () {\r\n+            const selectedType = emailRadio.checked ? 'email' : 'phone';\r\n+            localStorage.setItem(\"otpType\", selectedType);\r\n \r\n-    if (!user) {\r\n-        alert('❌ No user found in storage');\r\n-        return;\r\n-    }\r\n+            if (!user) {\r\n+                alert('❌ No user found in storage');\r\n+                return;\r\n+            }\r\n \r\n-    // ✅ Generate OTP\r\n-    const otp = generateOTP();\r\n+            // ✅ Generate OTP\r\n+            const otp = generateOTP();\r\n \r\n-    // Save OTP for later verification\r\n-    localStorage.setItem(\"emailOTP\", JSON.stringify({\r\n-        email: user.email,\r\n-        pin: otp\r\n-    }));\r\n+            // Save OTP for later verification\r\n+            localStorage.setItem(\"emailOTP\", JSON.stringify({\r\n+                email: user.email,\r\n+                pin: otp\r\n+            }));\r\n \r\n-    if (selectedType === \"email\") {\r\n-        console.log(\"📨 Sending OTP to email:\", user.email, \"Code:\", otp);\r\n+            if (selectedType === \"email\") {\r\n+                console.log(\"📨 Sending OTP to email:\", user.email, \"Code:\", otp);\r\n \r\n-        emailjs.send(\"service_b816d9f\", \"template_1yu5htt\", {\r\n-            to_email: user.email,\r\n-            to_name: user.fullName || user.name || \"User\",\r\n-            otp_code: otp\r\n-        }).then(\r\n-            function (response) {\r\n-                console.log(\"✅ OTP sent to email!\", response.status, response.text);\r\n-                window.location.href = 'otp-verification.html';\r\n-            },\r\n-            function (error) {\r\n-                console.error(\"❌ Failed to send OTP via EmailJS\", error);\r\n-                alert(\"Error sending OTP. Please try again.\");\r\n-            }\r\n-        );\r\n+                emailjs.send(\"service_b816d9f\", \"template_1yu5htt\", {\r\n+                    to_email: user.email,\r\n+                    to_name: user.fullName || user.name || \"User\",\r\n+                    otp_code: otp\r\n+                }).then(\r\n+                    function (response) {\r\n+                        console.log(\"✅ OTP sent to email!\", response.status, response.text);\r\n+                        window.location.href = 'otp-verification.html';\r\n+                    },\r\n+                    function (error) {\r\n+                        console.error(\"❌ Failed to send OTP via EmailJS\", error);\r\n+                        alert(\"Error sending OTP. Please try again.\");\r\n+                    }\r\n+                );\r\n \r\n-    } else if (selectedType === \"phone\") {\r\n-        console.log(\"📱 Sending OTP to phone:\", user.contactNum, \"Code:\", otp);\r\n+            } else if (selectedType === \"phone\") {\r\n+                console.log(\"📱 Sending OTP to phone:\", user.contactNum, \"Code:\", otp);\r\n \r\n-        // Call your Python backend to send SMS with Twilio\r\n-        fetch(\"http://127.0.0.1:5000/send_otp\", {\r\n-            method: \"POST\",\r\n-            headers: { \"Content-Type\": \"application/json\" },\r\n-            body: JSON.stringify({\r\n-                phone: user.contactNum,\r\n-                otp: otp\r\n-            })\r\n-        })\r\n-        .then(res => res.json())\r\n-        .then(data => {\r\n-            if (data.success) {\r\n-                console.log(\"✅ OTP sent to phone!\");\r\n-                window.location.href = 'otp-verification.html';\r\n-            } else {\r\n-                console.error(\"❌ Failed to send OTP via SMS\", data.error);\r\n-                alert(\"Error sending OTP via SMS.\");\r\n+                // Call your Python backend to send SMS with Twilio\r\n+                fetch(\"http://127.0.0.1:5000/send_otp\", {\r\n+                    method: \"POST\",\r\n+                    headers: { \"Content-Type\": \"application/json\" },\r\n+                    body: JSON.stringify({\r\n+                        phone: user.contactNum,\r\n+                        otp: otp\r\n+                    })\r\n+                })\r\n+                    .then(res => res.json())\r\n+                    .then(data => {\r\n+                        if (data.success) {\r\n+                            console.log(\"✅ OTP sent to phone!\");\r\n+                            window.location.href = 'otp-verification.html';\r\n+                        } else {\r\n+                            console.error(\"❌ Failed to send OTP via SMS\", data.error);\r\n+                            alert(\"Error sending OTP via SMS.\");\r\n+                        }\r\n+                    })\r\n+                    .catch(err => {\r\n+                        console.error(\"❌ Request error:\", err);\r\n+                        alert(\"Error contacting SMS service.\");\r\n+                    });\r\n             }\r\n-        })\r\n-        .catch(err => {\r\n-            console.error(\"❌ Request error:\", err);\r\n-            alert(\"Error contacting SMS service.\");\r\n         });\r\n-    }\r\n-});\r\n \r\n     </script>\r\n \r\n </body>\r\n"
                }
            ],
            "date": 1756806986358,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Forgot Password - Herbert Schildt</title>\r\n    <link rel=\"stylesheet\" href=\"../css/styles.css\">\r\n    <link rel=\"stylesheet\" href=\"../css/forgot-password.css\">\r\n    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\" rel=\"stylesheet\">\r\n</head>\r\n<body>\r\n    <!-- Header -->\r\n    <header class=\"header\">\r\n        <div class=\"header-left\">\r\n            <div class=\"logo\">\r\n                <img src=\"../img/logo-white.svg\" alt=\"Herbert Schildt Logo\" class=\"logo-image\">\r\n            </div>\r\n        </div>\r\n        <nav class=\"nav\">\r\n            <a href=\"../index.html\" class=\"nav-link\">Home</a>\r\n            <a href=\"#\" class=\"nav-link\">About</a>\r\n        </nav>\r\n    </header>\r\n\r\n    <!-- Main Content -->\r\n    <main class=\"main-content\">\r\n        <div class=\"verification-container\">\r\n            <div class=\"verification-card\">\r\n                <h2 class=\"verification-title\">Choose how you'd like to receive your verification code</h2>\r\n                \r\n                <div class=\"verification-options\">\r\n                    <div class=\"verification-option\" id=\"emailOption\">\r\n                        <div class=\"option-content\">\r\n                            <div class=\"option-label\">Email</div>\r\n                            <div class=\"option-field\">Send code to: jo*@gmail.com</div>\r\n                        </div>\r\n                        <div class=\"radio-button\">\r\n                            <input type=\"radio\" name=\"verification\" id=\"emailRadio\" checked>\r\n                            <span class=\"radio-custom\"></span>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"verification-option\" id=\"phoneOption\">\r\n                        <div class=\"option-content\">\r\n                            <div class=\"option-label\">Phone Number</div>\r\n                            <div class=\"option-field\">Send code to: ••••1234</div>\r\n                        </div>\r\n                        <div class=\"radio-button\">\r\n                            <input type=\"radio\" name=\"verification\" id=\"phoneRadio\">\r\n                            <span class=\"radio-custom\"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"verification-actions\">\r\n                    <a href=\"login.html\" class=\"back-btn\" style=\"background-color: #695959;\" >Back to Sign In</a>\r\n                    <button class=\"continue-btn\" id=\"continueBtn\">Continue</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n\r\n    <script src=\"../js/forgot-password.js\"></script>\r\n</body>\r\n</html>\r\n\r\n"
        }
    ]
}